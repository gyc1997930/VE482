\documentclass{article}

\usepackage{color}
\usepackage{graphicx}
\usepackage{amsmath}
\usepackage{setspace}
\usepackage{listings}
\usepackage{xcolor}
\lstset{
    columns=fixed,
    frame=shadowbox,
    backgroundcolor=\color[RGB]{245,245,244},
    keywordstyle=\color[RGB]{40,40,255},
    numberstyle=\footnotesize\color{darkgray},
    commentstyle=\it\color[RGB]{0,96,96},
    stringstyle=\rmfamily\slshape\color[RGB]{128,0,0},
    showstringspaces=false,
    language=bash
}
\usepackage{geometry}
\geometry{left=2cm,right=2cm,top=2cm,bottom=2cm}

\begin{document}
\begin{spacing}{2}

\vspace*{0.25cm}

\hrulefill

\thispagestyle{empty}

\begin{center}
\begin{large}
\sc{UM--SJTU Joint Institute \vspace{0.3em} \\ Introduction to Operating Systems \\(VE482)}
\end{large}

\hrulefill

\vspace*{5cm}
\begin{Large}
\sc{{Laboratory Report}}
\end{Large}

\vspace{2em}

\begin{large}
\sc{{Lab 3
\vspace{0.5em}

}}
\end{large}
\end{center}


\vfill

\begin{table}[h!]
\flushleft
\begin{tabular}{lll}
Name: Ji Xingyou \hspace*{2em}&
ID: 515370910197\hspace*{2em}
\\

Date: 28 September 2017

\end{tabular}
\end{table}

\hfill
\newpage
\tableofcontents
\newpage
\section{Simple git}
\begin{itemize}
    \item \textbf{Search what is $git$}\\
    Git is a version control system for tracking changes in computer files and coordinating work on those files among multiple people. It is primarily used for source code management in software development, but it can be used to keep track of changes in any set of files. As a distributed revision control system it is aimed at speed, data integrity, and support for distributed, non-linear workflows.\\
    \item \textbf{Install a $git$ client}\\
    Done.\\
    \item \textbf{Search the use of the following $git$ commands:}
    \begin{center}
    \begin{table}[!h]
    \begin{tabular}{lllll}
    - help&- branch&- merge&- tag&- commit\\
    - init&- push&- add&- log&- clone\\
    - checkout&- pull&- diff&- fetch&- reset\\
    \end{tabular}
    \end{table}
    \end{center}

    \textbf{- help:} print the synopsis and a list of the most commonly used commands.\\
    \textbf{- branch:} list, create, or delete branches.\\
    \textbf{- merge:} join two or more development histories together.\\
    \textbf{- tag:} create, list, delete or verify a tag object signed with GPG.\\
    \textbf{- commit:} record changes to the repository.\\
    \textbf{- init:} create an empty Git repository or reinitialize an existing one.\\
    \textbf{- push:} update remote refs along with associated objects.
    \textbf{- add:} add file contents to the index.\\
    \textbf{- log:} show commit logs.\\
    \textbf{- clone:} clone a repository into a new directory.\\
    \textbf{- checkout:} switch branches or restore working tree files.\\
    \textbf{- pull:} fetch from and integrate with another repository or a local branch.\\
    \textbf{- diff:} show changes between commits, commit and working tree, etc.\\
    \textbf{- fetch:} download objects and refs from another repository.\\
    \textbf{- reset:} reset current HEAD to the specified state.
    \item \textbf{Setup your git repository on the VE482 server.}
    First, edit the config file.
    \begin{lstlisting}[language=bash]
	Host ve482
		HostName 202.120.43.199
		Port 2482
		IdentityFile ~/.ssh/id_rsa
	\end{lstlisting}
	Then, in the terminal type
    \begin{lstlisting}[language=bash]
	cd Desktop/VE482/Project1
	git init
	git add
	git commit -m `482'
	git remote add ve482 git@ve482:515370910197/p1
	git push ve482
	\end{lstlisting}
    \end{itemize}
\section{Git game}
Done.
\section{Working with source code}
\subsection{The $rsync$ command}
\begin{itemize}
\item \textbf{In Minix 3 install the rsync software}
\begin{lstlisting}[language=bash]
pkgin install rsync
\end{lstlisting}
\item \textbf{Install rsync on you Linux system}
\begin{lstlisting}[language=bash]
sudo apt install rsync
\end{lstlisting}
\item \textbf{Read rsync manpage}
\begin{lstlisting}[language=bash]
man rsync
\end{lstlisting}
\item \textbf{Create an exact copy of the directory /usr/src into the directory /usr/src$\_$orig}
\begin{lstlisting}[language=bash]
mkdir src_orig
cp -r src/. src_orig
\end{lstlisting}
\item \textbf{If you have altered Minix 3 source code during homework 2 remove your changes from /usr/src orig}
\item \textbf{Create an exact copy of the Minix 3 directory /usr/src$\_$orig into your Linux system, using rsync and ssh (note that the ssh server must be activated under Linux)}
\begin{lstlisting}[language=bash]
rsync -av root@2222::www /usr/src_orig
\end{lstlisting}
\end{itemize}
\subsection{The $diff$ and $patch$ command}
\begin{itemize}
	\item \textbf{Read the manpages of diff and patch}\\
	\textbf{diff:} compare files line by line\\
	\begin{lstlisting}[language=bash]
	diff [OPTION]... FILES
	\end{lstlisting}
	\textbf{patch:} apply a diff file to an original\\
	\begin{lstlisting}[language=bash]
	patch -pnum <[patchfile]
	\end{lstlisting}
	\item \textbf{Using the diff command, create a patch corresponding to your changes in homework 2}\\
	\begin{lstlisting}[language=bash]
	diff -Naur usr/src_orig usr/src > diff_file
	\end{lstlisting}
	\item \textbf{Retrieve your patch on your Linux system}\\
	\begin{lstlisting}[language=bash]
	patch -p0 < diff_file
	\end{lstlisting}
	\item \textbf{Apply your patch to the copy of /usr/src orig on your Linux system}\\
	\begin{lstlisting}[language=bash]
	cd Desktop/VE482/LAB/Lab3
	patch -p0 < diff_file
	\end{lstlisting}
	\item \textbf{Revert the patch}\\
	\begin{lstlisting}[language=bash]
	patch -RE -p0 < diff_file
	\end{lstlisting}
\end{itemize}
\subsection{Remarks}
\end{spacing}
\end{document}












